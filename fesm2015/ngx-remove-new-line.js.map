{"version":3,"file":"ngx-remove-new-line.js","sources":["../../../projects/ngx-remove-new-line/src/lib/directives/remove-new-line/remove-new-line.directive.ts","../../../projects/ngx-remove-new-line/src/lib/directives/remove-new-line/remove-new-line.module.ts","../../../projects/ngx-remove-new-line/src/public-api.ts","../../../projects/ngx-remove-new-line/src/ngx-remove-new-line.ts"],"sourcesContent":["import { Directive, ElementRef, forwardRef, HostListener, Renderer2 } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\n@Directive({\n  selector: '[removeNewLine]',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => RemoveNewLineDirective),\n      multi: true\n    }\n  ],\n})\nexport class RemoveNewLineDirective implements ControlValueAccessor {\n  private isDisabled = false;\n\n  onChangeFn: (value: any) => void = () => {\n  };\n\n  onTouchedFn = () => {\n  };\n\n  constructor(\n    private elm: ElementRef,\n    private renderer: Renderer2\n  ) { }\n\n  @HostListener('keydown', ['$event'])\n  onKeyDown(event: KeyboardEvent) {\n    if (event.key === 'Enter') {\n      event.preventDefault();\n    }\n  }\n\n  @HostListener('blur', ['$event.target.value'])\n  onBlur(value: string) { \n    this.onChangeFn(value.replace(/(?:\\r\\n|\\r|\\n)/g,' '));\n    this.onTouchedFn();\n  }\n\n  @HostListener('paste', ['$event'])\n  onPaste(event: ClipboardEvent) {\n    const clipboardData: DataTransfer | null = event.clipboardData;\n    const pastedDate: string | undefined = clipboardData?.getData('Text');\n    const current = this.elm.nativeElement.value;\n    this.onChangeFn(current?.concat(pastedDate)?.replace(/(?:\\r\\n|\\r|\\n)/g,' '));\n  }\n\n  writeValue(value: string): void {\n    this.elm.nativeElement.value = value;\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChangeFn = fn;\n  }\n\n  registerOnTouched(fn: () => void): void {\n    this.onTouchedFn = fn;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.isDisabled = isDisabled;\n    if (this.isDisabled) {\n      this.renderer.setProperty(this.elm.nativeElement, 'disabled', 'disabled');\n    } else {\n      this.renderer.removeAttribute(this.elm.nativeElement, 'disabled');\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RemoveNewLineDirective } from './remove-new-line.directive';\n\n\n\n@NgModule({\n  declarations: [\n    RemoveNewLineDirective\n  ],\n  imports: [\n    CommonModule\n  ],\n  exports: [RemoveNewLineDirective]\n})\nexport class RemoveNewLineModule { }\n","/*\n * Public API Surface of ngx-remove-new-line\n */\n\nexport * from './lib/directives/remove-new-line/remove-new-line.module';\nexport * from './lib/directives/remove-new-line/remove-new-line.directive';","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}